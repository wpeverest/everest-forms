jQuery(function(s){"use strict";if("undefined"==typeof everest_forms_params)return!1;({$everest_form:s("form.everest-form"),init:function(){this.init_inputMask(),this.init_datepicker(),this.load_validation(),this.$everest_form.on("input validate change",".input-text, select, input:checkbox, input:radio",this.validate_field)},init_inputMask:function(){"undefined"!=typeof s.fn.inputmask&&s(".evf-masked-input").inputmask()},init_datepicker:function(){0<s(".evf-field-date").length&&s(".flatpickr-field").each(function(){var e=5,F=s(this).data();switch(F.dateTime){case"date":s(this).flatpickr({disableMobile:!0,dateFormat:F.dateFormat});break;case"time":undefined!==F.timeInterval&&(e=parseInt(F.timeInterval)),s(this).flatpickr({enableTime:!0,noCalendar:!0,minuteIncrement:e,dateFormat:F.dateFormat,disableMobile:!0,time_24hr:F.dateFormat.includes("H:i")});break;case"date-time":undefined!==F.timeInterval&&(e=parseInt(F.timeInterval)),s(this).flatpickr({enableTime:!0,noCalendar:!1,disableMobile:!0,minuteIncrement:e,dateFormat:F.dateFormat,time_24hr:F.dateFormat.includes("H:i")})}})},load_validation:function(){if("undefined"==typeof s.fn.validate)return!1;s.extend(s.validator.messages,{required:everest_forms_params.i18n_messages_required,url:everest_forms_params.i18n_messages_url,email:everest_forms_params.i18n_messages_email,number:everest_forms_params.i18n_messages_number}),s.validator.methods.email=function(e,F){var a=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return this.optional(F)||a.test(e)},this.$everest_form.each(function(){s(this).validate({errorClass:"evf-error",validClass:"evf-valid",ignore:"",errorPlacement:function(e,F){"radio"===F.attr("type")||"checkbox"===F.attr("type")?F.hasClass("everest-forms-likert-field-option")?F.closest("tr").children("th").append(e):F.parent().parent().parent().append(e):F.is("select")&&F.attr("class").match(/date-month|date-day|date-year/)?0===F.parent().find("label.evf-error:visible").length&&F.parent().find("select:last").after(e):e.insertAfter(F)},highlight:function(e,F,a){var t=s(e),i=t.closest(".form-row"),r=t.attr("name");"radio"===t.attr("type")||"checkbox"===t.attr("type")?i.find("input[name='"+r+"']").addClass(F).removeClass(a):t.addClass(F).removeClass(a),i.removeClass("everest-forms-validated").addClass("everest-forms-invalid evf-has-error")},unhighlight:function(e,F,a){var t=s(e),i=t.closest(".form-row"),r=t.attr("name");"radio"===t.attr("type")||"checkbox"===t.attr("type")?i.find("input[name='"+r+"']").addClass(a).removeClass(F):t.addClass(a).removeClass(F),i.removeClass("evf-has-error")},submitHandler:function(e){e.submit()}})})},validate_field:function(e){var F=s(this),a=F.closest(".form-row"),t=!0,i=a.is(".validate-required"),r=a.is(".validate-email"),u=e.type;if("input"===u&&a.removeClass("everest-forms-invalid everest-forms-invalid-required-field everest-forms-invalid-email everest-forms-validated"),"validate"===u||"change"===u){if(i&&(F.hasClass("everest-forms-likert-field-option")?0<a.find("input.evf-error").length&&(a.removeClass("everest-forms-validated").addClass("everest-forms-invalid everest-forms-invalid-required-field"),t=!1):"checkbox"!==F.attr("type")||F.is(":checked")?""===F.val()&&(a.removeClass("everest-forms-validated").addClass("everest-forms-invalid everest-forms-invalid-required-field"),t=!1):(a.removeClass("everest-forms-validated").addClass("everest-forms-invalid everest-forms-invalid-required-field"),t=!1)),r)if(F.val())new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(F.val())||(a.removeClass("everest-forms-validated").addClass("everest-forms-invalid everest-forms-invalid-email"),t=!1);t&&a.removeClass("everest-forms-invalid everest-forms-invalid-required-field everest-forms-invalid-email").addClass("everest-forms-validated")}}}).init()});