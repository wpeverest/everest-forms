jQuery(function(){"use strict";if("undefined"==typeof everest_forms_text_limit_params)return!1;var e=function(){var a=this;Array.prototype.slice.call(document.querySelectorAll(".everest-forms-limit-characters-enabled")).map(function(e){var t=parseInt(e.dataset.textLimit,10)||0,r=(e.value=e.value.slice(0,t),a.createHint(e.dataset.formId,e.dataset.fieldId,a.renderHint(everest_forms_text_limit_params.i18n_messages_limit_characters,e.value.length,t)));e.parentNode.appendChild(r),e.addEventListener("keyup",a.checkCharacters(r,t)),e.addEventListener("keydown",a.checkCharacters(r,t))}),Array.prototype.slice.call(document.querySelectorAll(".everest-forms-limit-words-enabled")).map(function(e){var t=parseInt(e.dataset.textLimit,10)||0,r=(e.value=e.value.trim().split(/\s+/).slice(0,t).join(" "),a.createHint(e.dataset.formId,e.dataset.fieldId,a.renderHint(everest_forms_text_limit_params.i18n_messages_limit_words,e.value.trim().split(/\s+/).length,t)));e.parentNode.appendChild(r),e.addEventListener("keyup",a.checkWords(r,t)),e.addEventListener("keydown",a.checkWords(r,t)),e.addEventListener("paste",a.pasteWords(t))})};e.prototype.renderHint=function(e,t,r){return e.replace("{count}",t).replace("{limit}",r)},e.prototype.createHint=function(e,t,r){var a=document.createElement("div");return a.classList.add("everest-forms-field-limit-text"),a.id="everest-forms-field-limit-text-"+e+"-"+t,a.textContent=r,a},e.prototype.checkCharacters=function(t,r){return e=>{t.textContent=this.renderHint(everest_forms_text_limit_params.i18n_messages_limit_characters,e.target.value.length,r)}},e.prototype.checkWords=function(r,a){return e=>{var t=e.target.value.trim().split(/\s+/);32===e.keyCode&&t.length>=a&&e.preventDefault(),r.textContent=this.renderHint(everest_forms_text_limit_params.i18n_messages_limit_words,t.length,a)}},e.prototype.getPastedText=function(e){return window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?e.clipboardData.getData("text/plain"):void 0},e.prototype.pasteWords=function(r){return e=>{e.preventDefault();var t=this.getPastedText(e).trim().split(/\s+/);t.splice(r,t.length),e.target.value=t.join(" ")}},new e});