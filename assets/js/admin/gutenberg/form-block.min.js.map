{"version":3,"sources":["webpack://everest-forms/./assets/js/admin/gutenberg/form-block.js"],"names":["__","wp","i18n","createElement","element","registerBlockType","blocks","InspectorControls","blockEditor","ServerSideRender","serverSideRender","components","PanelBody","SelectControl","ToggleControl","Placeholder","window","testEVF","setTimeout","initializeForm","EverestFormIcon","width","height","viewBox","fill","d","title","evf_form_block_data","icon","category","keywords","form_keywords","description","attributes","formId","type","displayTitle","displayDescription","edit","props","setAttributes","formOptions","forms","map","value","ID","label","post_title","jsx","unshift","form_select","selectForm","toggleDisplayTitle","toggleDisplayDescription","form_settings","form_selected","show_title","show_description","push","save"],"mappings":"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","file":"form-block.min.js","sourcesContent":["/**\n * Everest Forms Form Block\n *\n * A block for embedding a Everest Forms into a post/page.\n */\n\n 'use strict';\n\n /* global evf_form_block_data, wp */\n const { __ } = wp.i18n;\n const { createElement  } = wp.element;\n const { registerBlockType } = wp.blocks;\n const { InspectorControls } = wp.blockEditor;\n const { serverSideRender: ServerSideRender } = wp;\n const {\n     PanelBody, SelectControl, ToggleControl, Placeholder\n } = wp.components;\n \n window.testEVF = function() {\n     setTimeout(()=>{\n         window.initializeForm();\n     }, 10);\n };\n \n const EverestFormIcon = createElement( 'svg', { width: 24, height: 24, viewBox: '0 0 24 24' },\n     createElement( 'path', { fill: 'currentColor', d: 'M18.1 4h-3.8l1.2 2h3.9zM20.6 8h-3.9l1.2 2h3.9zM20.6 18H5.8L12 7.9l2.5 4.1H12l-1.2 2h7.3L12 4.1 2.2 20h19.6z' } )\n );\n \n registerBlockType( 'everest-forms/form-selector', {\n     title: evf_form_block_data.i18n.title,\n     icon: EverestFormIcon,\n     category: 'widgets',\n     keywords: evf_form_block_data.i18n.form_keywords,\n     description: evf_form_block_data.i18n.description,\n     attributes: {\n         formId: {\n             type: 'string',\n         },\n         displayTitle: {\n             type: 'boolean',\n         },\n         displayDescription: {\n             type: 'boolean',\n         },\n     },\n     edit( props ) {\n         const { attributes: { formId = '', displayTitle = false, displayDescription = false }, setAttributes } = props;\n         const formOptions = evf_form_block_data.forms.map( value => (\n             { value: value.ID, label: value.post_title }\n         ) );\n         let jsx;\n \n         formOptions.unshift( { value: '', label: evf_form_block_data.i18n.form_select } );\n \n         function selectForm( value ) {\n             setAttributes( { formId: value } );\n         }\n \n         function toggleDisplayTitle( value ) {\n             setAttributes( { displayTitle: value } );\n         }\n \n         function toggleDisplayDescription( value ) {\n             setAttributes( { displayDescription: value } );\n         }\n \n         jsx = [\n             <InspectorControls key=\"evf-gutenberg-form-selector-inspector-controls\">\n                 <PanelBody title={ evf_form_block_data.i18n.form_settings }>\n                     <SelectControl\n                         label={ evf_form_block_data.i18n.form_selected }\n                         value={ formId }\n                         options={ formOptions }\n                         onChange={ selectForm }\n                     />\n                     <ToggleControl\n                         label={ evf_form_block_data.i18n.show_title }\n                         checked={ displayTitle }\n                         onChange={ toggleDisplayTitle }\n                     />\n                     <ToggleControl\n                         label={ evf_form_block_data.i18n.show_description }\n                         checked={ displayDescription }\n                         onChange={ toggleDisplayDescription }\n                     />\n                 </PanelBody>\n             </InspectorControls>\n         ];\n \n         if ( formId ) {\n             jsx.push(\n                 <ServerSideRender\n                     key=\"evf-gutenberg-form-selector-server-side-renderer\"\n                     block=\"everest-forms/form-selector\"\n                     attributes={ props.attributes }\n                 />\n             );\n         \n             \n         \n         } else {\n             jsx.push(\n                 <Placeholder\n                     key=\"evf-gutenberg-form-selector-wrap\"\n                     icon={ EverestFormIcon }\n                     instructions={ evf_form_block_data.i18n.title }\n                     className=\"everest-form-gutenberg-form-selector-wrap\">\n                     <SelectControl\n                         key=\"evf-gutenberg-form-selector-select-control\"\n                         value={ formId }\n                         options={ formOptions }\n                         onChange={ selectForm }\n                     />\n                 </Placeholder>\n             );\n         }\n \n         return jsx;\n     },\n     save() {\n         return null;\n     },\n } );\n "],"sourceRoot":""}