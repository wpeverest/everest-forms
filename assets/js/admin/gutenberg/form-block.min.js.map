{"version":3,"sources":["webpack://everest-forms/./assets/js/admin/gutenberg/form-block.js"],"names":["__","wp","i18n","createElement","element","registerBlockType","blocks","InspectorControls","blockEditor","ServerSideRender","serverSideRender","components","PanelBody","SelectControl","ToggleControl","Placeholder","window","testEVF","setTimeout","initializeForm","EverestFormIcon","width","height","viewBox","fill","d","title","evf_form_block_data","icon","category","keywords","form_keywords","description","attributes","formId","type","displayTitle","displayDescription","edit","props","setAttributes","formOptions","forms","map","value","ID","label","post_title","jsx","unshift","form_select","selectForm","toggleDisplayTitle","toggleDisplayDescription","form_settings","form_selected","show_title","show_description","push","save"],"mappings":"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","file":"form-block.min.js","sourcesContent":["/**\n * Everest Forms Form Block\n *\n * A block for embedding a Everest Forms into a post/page.\n */\n\n 'use strict';\n\n /* global evf_form_block_data, wp */\n const { __ } = wp.i18n;\n const { createElement  } = wp.element;\n const { registerBlockType } = wp.blocks;\n const { InspectorControls } = wp.blockEditor;\n const { serverSideRender: ServerSideRender } = wp;\n const {\n\t PanelBody, SelectControl, ToggleControl, Placeholder\n } = wp.components;\n \n window.testEVF = function() {\n\t setTimeout(()=>{\n\t\t window.initializeForm();\n\t }, 10);\n };\n \n const EverestFormIcon = createElement( 'svg', { width: 24, height: 24, viewBox: '0 0 24 24' },\n\t createElement( 'path', { fill: 'currentColor', d: 'M18.1 4h-3.8l1.2 2h3.9zM20.6 8h-3.9l1.2 2h3.9zM20.6 18H5.8L12 7.9l2.5 4.1H12l-1.2 2h7.3L12 4.1 2.2 20h19.6z' } )\n );\n \n registerBlockType( 'everest-forms/form-selector', {\n\t title: evf_form_block_data.i18n.title,\n\t icon: EverestFormIcon,\n\t category: 'widgets',\n\t keywords: evf_form_block_data.i18n.form_keywords,\n\t description: evf_form_block_data.i18n.description,\n\t attributes: {\n\t\t formId: {\n\t\t\t type: 'string',\n\t\t },\n\t\t displayTitle: {\n\t\t\t type: 'boolean',\n\t\t },\n\t\t displayDescription: {\n\t\t\t type: 'boolean',\n\t\t },\n\t },\n\t edit( props ) {\n\t\t const { attributes: { formId = '', displayTitle = false, displayDescription = false }, setAttributes } = props;\n\t\t const formOptions = evf_form_block_data.forms.map( value => (\n\t\t\t { value: value.ID, label: value.post_title }\n\t\t ) );\n\t\t let jsx;\n \n\t\t formOptions.unshift( { value: '', label: evf_form_block_data.i18n.form_select } );\n \n\t\t function selectForm( value ) {\n\t\t\t setAttributes( { formId: value } );\n\t\t }\n \n\t\t function toggleDisplayTitle( value ) {\n\t\t\t setAttributes( { displayTitle: value } );\n\t\t }\n \n\t\t function toggleDisplayDescription( value ) {\n\t\t\t setAttributes( { displayDescription: value } );\n\t\t }\n \n\t\t jsx = [\n\t\t\t <InspectorControls key=\"evf-gutenberg-form-selector-inspector-controls\">\n\t\t\t\t <PanelBody title={ evf_form_block_data.i18n.form_settings }>\n\t\t\t\t\t <SelectControl\n\t\t\t\t\t\t label={ evf_form_block_data.i18n.form_selected }\n\t\t\t\t\t\t value={ formId }\n\t\t\t\t\t\t options={ formOptions }\n\t\t\t\t\t\t onChange={ selectForm }\n\t\t\t\t\t />\n\t\t\t\t\t <ToggleControl\n\t\t\t\t\t\t label={ evf_form_block_data.i18n.show_title }\n\t\t\t\t\t\t checked={ displayTitle }\n\t\t\t\t\t\t onChange={ toggleDisplayTitle }\n\t\t\t\t\t />\n\t\t\t\t\t <ToggleControl\n\t\t\t\t\t\t label={ evf_form_block_data.i18n.show_description }\n\t\t\t\t\t\t checked={ displayDescription }\n\t\t\t\t\t\t onChange={ toggleDisplayDescription }\n\t\t\t\t\t />\n\t\t\t\t </PanelBody>\n\t\t\t </InspectorControls>\n\t\t ];\n \n\t\t if ( formId ) {\n\t\t\t jsx.push(\n\t\t\t\t <ServerSideRender\n\t\t\t\t\t key=\"evf-gutenberg-form-selector-server-side-renderer\"\n\t\t\t\t\t block=\"everest-forms/form-selector\"\n\t\t\t\t\t attributes={ props.attributes }\n\t\t\t\t />\n\t\t\t );\n\t\t \n\t\t\t \n\t\t \n\t\t } else {\n\t\t\t jsx.push(\n\t\t\t\t <Placeholder\n\t\t\t\t\t key=\"evf-gutenberg-form-selector-wrap\"\n\t\t\t\t\t icon={ EverestFormIcon }\n\t\t\t\t\t instructions={ evf_form_block_data.i18n.title }\n\t\t\t\t\t className=\"everest-form-gutenberg-form-selector-wrap\">\n\t\t\t\t\t <SelectControl\n\t\t\t\t\t\t key=\"evf-gutenberg-form-selector-select-control\"\n\t\t\t\t\t\t value={ formId }\n\t\t\t\t\t\t options={ formOptions }\n\t\t\t\t\t\t onChange={ selectForm }\n\t\t\t\t\t />\n\t\t\t\t </Placeholder>\n\t\t\t );\n\t\t }\n \n\t\t return jsx;\n\t },\n\t save() {\n\t\t return null;\n\t },\n } );"],"sourceRoot":""}