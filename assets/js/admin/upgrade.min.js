jQuery(function(n){var t={init:function(){n(document.body).on("click dragstart",".evf-registered-item.upgrade-modal",this.field_upgrade),n(document.body).on("click dragstart",".evf-registered-item.evf-upgrade-addon",this.evf_upgrade_addon),n(document.body).on("click dragstart",".evf-registered-item.enable-stripe-model",this.enable_stripe_model),n(document.body).on("click dragstart",".evf-registered-item.enable-authorize-net-model",this.enable_authorize_net_model),n(document.body).on("click dragstart",".everest-forms-field-option-row.upgrade-modal",this.feature_upgrade),n(document.body).on("click dragstart",".evf-upgradable-feature, .everest-forms-btn-group span.upgrade-modal",this.feature_upgrade)},feature_upgrade:function(e){e.preventDefault(),t.upgrade_modal(n(this).data("feature")?n(this).data("feature"):n(this).text())},field_upgrade:function(e){e.preventDefault(),t.upgrade_modal(n(this).data("feature")?n(this).data("feature"):n(this).text()+" field")},evf_upgrade_addon:function(e){e.preventDefault();var e=n(this).data("field-type"),t=n(this).data("field-plan"),a=n(this).data("addon-slug");n.ajax({type:"POST",url:evf_upgrade.ajax_url,data:{action:"everest_forms_install_and_active_addons",field_plan:t,field_type:e,addon_slug:a,security:evf_upgrade.evf_install_and_active_nonce},success:function(e){!0===e.success&&n.alert({title:e.data.title,theme:"jconfirm-modern jconfirm-everest-forms",icon:"dashicons dashicons-lock",backgroundDismiss:!1,scrollToPreviousElement:!1,content:e.data.message,buttons:{confirm:{text:e.data.content,keys:["enter"]}},type:"blue",boxWidth:"565px"}),!1===e.success&&n.alert({title:e.data.addon.name+" "+evf_upgrade.upgrade_plan_title,theme:"jconfirm-modern jconfirm-everest-forms",icon:"dashicons dashicons-lock",backgroundDismiss:!1,scrollToPreviousElement:!1,content:evf_upgrade.upgrade_plan_message,type:"red",boxWidth:"565px",buttons:{confirm:{text:evf_upgrade.upgrade_plan_button,btnClass:"btn-confirm",keys:["enter"],action:function(){window.open(evf_upgrade.upgrade_url,"_blank")}},cancel:{text:evf_data.i18n_ok}}})}})},upgrade_modal:function(e){var t=evf_upgrade.upgrade_message.replace(/%name%/g,e);n.alert({title:e+" "+evf_upgrade.upgrade_title,icon:"dashicons dashicons-lock",content:t,type:"red",boxWidth:"565px",buttons:{confirm:{text:evf_upgrade.upgrade_button,btnClass:"btn-confirm",keys:["enter"],action:function(){window.open(evf_upgrade.upgrade_url,"_blank")}},cancel:{text:evf_data.i18n_ok}}})},enable_stripe_model:function(e){e.preventDefault(),n.alert({title:evf_upgrade.enable_stripe_title,content:evf_upgrade.enable_stripe_message,icon:"dashicons dashicons-info",type:"blue",buttons:{confirm:{text:evf_data.i18n_close,btnClass:"btn-confirm",keys:["enter"]}}})},enable_authorize_net_model:function(e){e.preventDefault(),n.alert({title:evf_upgrade.enable_authorize_net_title,content:evf_upgrade.enable_authorize_net_message,icon:"dashicons dashicons-info",type:"blue",buttons:{confirm:{text:evf_data.i18n_close,btnClass:"btn-confirm",keys:["enter"]}}})}};t.init()});